{"ast":null,"code":"var _jsxFileName = \"/Users/ois/Documents/oisCoder/ReactBurgerTs/src/components/BurgerConstructor/BurgerConstructor.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport style from './BurgerConstructor.module.css';\nimport React, { useEffect, useCallback } from 'react';\nimport { CurrencyIcon, DragIcon, ConstructorElement, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrop } from 'react-dnd/dist/hooks/useDrop';\nimport { useDrag } from 'react-dnd/dist/hooks/useDrag';\nimport { itemTypes } from '../../utility/constants';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { moveItem, addItem, submitOrder, emptyCart, removeItem } from '../../services/burgerCart-slice';\nimport Modal from '../Modal/Modal';\nimport OrderDetails from '../OrderDetails/OrderDetail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Cart(props) {\n  return /*#__PURE__*/_jsxDEV(\"ol\", {\n    className: style.cart,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n_c = Cart;\nconst Ingredients = /*#__PURE__*/React.forwardRef(_c2 = (props, ref) => {\n  return /*#__PURE__*/_jsxDEV(\"ol\", {\n    className: style.ingredients,\n    ref: ref,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n});\n_c3 = Ingredients;\nfunction Total(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.total,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${style.totalPrice} mr-10`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text text_type_digits-medium\",\n        children: props.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n        type: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      htmlType: \"button\",\n      type: \"primary\",\n      size: \"medium\",\n      onClick: props.onClick,\n      disabled: props.disabled,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_c4 = Total;\nfunction Product(props) {\n  _s();\n  const originalId = props.findIndex;\n  const newId = props.newId;\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: itemTypes.MAIN,\n    item: {\n      newId,\n      originalId\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    }),\n    end: (item, monitor) => {\n      const {\n        newId: droppedId,\n        originalId\n      } = item;\n      const didDrop = monitor.didDrop();\n      if (!didDrop) {\n        props.moveIngredient(droppedId, originalId);\n      }\n    }\n  }), [newId, originalId, props.moveIngredient]);\n  const [, drop] = useDrop({\n    accept: itemTypes.MAIN,\n    hover: item => {\n      const draggetId = item.newId;\n      if (draggetId !== newId) {\n        const {\n          index: overIndex\n        } = props.findId(newId);\n        props.moveIngredient(draggetId, overIndex);\n      }\n    }\n  }, [props.findId, props.moveIngredient]);\n  const opacity = isDragging ? 0 : 1;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: props.style,\n    ref: node => drag(drop(node)),\n    style: {\n      opacity\n    },\n    children: [/*#__PURE__*/_jsxDEV(DragIcon, {\n      type: \"primary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConstructorElement, {\n      type: props.type,\n      isLocked: false,\n      text: props.name,\n      price: props.price,\n      thumbnail: props.image,\n      handleClose: props.remove\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 7\n  }, this);\n}\n_s(Product, \"FSfJ4ie57JY5to1rF8fuHph4Yps=\", false, function () {\n  return [useDrag, useDrop];\n});\n_c5 = Product;\nfunction ConstructorTemplate(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.style,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: style.constructorElementText,\n      children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0431\\u0443\\u043B\\u043E\\u0447\\u043A\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n_c6 = ConstructorTemplate;\nfunction BurgerConstructor() {\n  _s2();\n  const [bun, setBun] = React.useState([]);\n  const [items, setItems] = React.useState([]);\n  const [totalPrice, setTotalPrice] = React.useState(0);\n  const [onOpen, setOnOpen] = React.useState(false);\n  const bunItems = useSelector(state => state.cart.cart.bun);\n  const mainItems = useSelector(state => state.cart.cart.main);\n  const dispatch = useDispatch();\n  const bunIsEmpty = bun.length === 0;\n  const isLogin = useSelector(state => state.isLogin.isLogin);\n  const navigate = useNavigate();\n  // const serverError = useSelector((state) => state.isLogin.error)\n\n  const findId = useCallback(id => {\n    const ingredient = mainItems.filter(i => `${i.newId}` === id)[0];\n    return {\n      ingredient,\n      index: mainItems.indexOf(ingredient)\n    };\n  }, [mainItems]);\n  const moveIngredient = useCallback((id, atIdex) => {\n    const {\n      ingredient,\n      index\n    } = findId(id);\n    const newCartItems = [...mainItems.slice(0, index), ...mainItems.slice(index + 1)];\n    newCartItems.splice(atIdex, 0, ingredient);\n    dispatch(moveItem(newCartItems));\n  }, [findId, mainItems]);\n  const [{\n    canDrop,\n    isOver\n  }, add] = useDrop(() => ({\n    accept: itemTypes.INGREDIENT,\n    drop: (item, monitor) => {\n      dispatch(addItem({\n        ...item.ingredient\n      }));\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  }));\n  const dropZoneClass = canDrop ? `${style.shell} ${style.canDrop}` : style.shell;\n  const [, drop] = useDrop(() => ({\n    accept: itemTypes.MAIN\n  }));\n  useEffect(() => {\n    var _bunItems$;\n    const totalPrice = (((_bunItems$ = bunItems[0]) === null || _bunItems$ === void 0 ? void 0 : _bunItems$.price) * 2 || 0) + mainItems.reduce((sum, item) => sum + item.price, 0);\n    setTotalPrice(totalPrice);\n    if (bunItems) {\n      const bun = bunItems.filter(item => item.type === \"bun\").slice(0, 1);\n      setBun(bun);\n    }\n    if (mainItems) {\n      setItems(mainItems);\n    }\n  }, [bunItems, mainItems]);\n  const handleSubmitOrder = () => {\n    dispatch(submitOrder());\n    setOnOpen(true);\n    dispatch(emptyCart());\n  };\n\n  // const handleSubmitOrder = async() => {\n  //     try {\n  //         dispatch(submitOrder())\n  //         console.log(serverError)\n  //         setOnOpen(true)\n  //         dispatch(emptyCart())\n  //     } catch (error) {\n  //         console.error(\"Error:\", error)\n  //     }\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: dropZoneClass,\n    ref: add,\n    children: [/*#__PURE__*/_jsxDEV(Cart, {\n      children: [bun.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n        className: style.bun,\n        children: /*#__PURE__*/_jsxDEV(ConstructorTemplate, {\n          style: `${style.constructorElement} ${style.constructorElementTop}`,\n          text: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0431\\u0443\\u043B\\u043A\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this) : bun.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: style.bun,\n        children: /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: item.name + '(верх)',\n          price: item.price,\n          thumbnail: item.image\n        }, item.newId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }, this)\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)), /*#__PURE__*/_jsxDEV(Ingredients, {\n        ref: drop,\n        children: items && items.map(item => /*#__PURE__*/_jsxDEV(Product, {\n          style: style.main,\n          price: item.price,\n          name: item.name,\n          image: item.image,\n          findIndex: findId(item.newId).index,\n          moveIngredient: moveIngredient,\n          findId: findId,\n          newId: item.newId,\n          remove: () => dispatch(removeItem(item.newId))\n        }, item.newId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this), bun.length === 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n        className: style.bun,\n        children: /*#__PURE__*/_jsxDEV(ConstructorTemplate, {\n          style: `${style.constructorElement} ${style.constructorElementBottom}`,\n          text: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0431\\u0443\\u043B\\u043A\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this) : bun.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: style.bun,\n        children: /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: item.name + '(низ)',\n          price: item.price,\n          thumbnail: item.image\n        }, item.newId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this)\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }, this), isLogin ? /*#__PURE__*/_jsxDEV(Total, {\n      price: totalPrice,\n      onClick: handleSubmitOrder,\n      disabled: bunIsEmpty,\n      children: 'Оформить заказ'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 23\n    }, this) : /*#__PURE__*/_jsxDEV(Total, {\n      price: totalPrice,\n      onClick: () => navigate('/login'),\n      children: 'Войти'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), onOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      handleClose: () => setOnOpen(false),\n      children: /*#__PURE__*/_jsxDEV(OrderDetails, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 13\n  }, this);\n}\n_s2(BurgerConstructor, \"cYpI1ICmMet+p46EEQMVZlD8IdI=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector, useNavigate, useDrop, useDrop];\n});\n_c7 = BurgerConstructor;\nexport default BurgerConstructor;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Cart\");\n$RefreshReg$(_c2, \"Ingredients$React.forwardRef\");\n$RefreshReg$(_c3, \"Ingredients\");\n$RefreshReg$(_c4, \"Total\");\n$RefreshReg$(_c5, \"Product\");\n$RefreshReg$(_c6, \"ConstructorTemplate\");\n$RefreshReg$(_c7, \"BurgerConstructor\");","map":{"version":3,"names":["style","React","useEffect","useCallback","CurrencyIcon","DragIcon","ConstructorElement","Button","useDrop","useDrag","itemTypes","useSelector","useDispatch","useNavigate","moveItem","addItem","submitOrder","emptyCart","removeItem","Modal","OrderDetails","jsxDEV","_jsxDEV","Cart","props","className","cart","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Ingredients","forwardRef","_c2","ref","ingredients","_c3","Total","total","totalPrice","price","type","htmlType","size","onClick","disabled","_c4","Product","_s","originalId","findIndex","newId","isDragging","drag","MAIN","item","collect","monitor","end","droppedId","didDrop","moveIngredient","drop","accept","hover","draggetId","index","overIndex","findId","opacity","node","isLocked","text","name","thumbnail","image","handleClose","remove","_c5","ConstructorTemplate","constructorElementText","_c6","BurgerConstructor","_s2","bun","setBun","useState","items","setItems","setTotalPrice","onOpen","setOnOpen","bunItems","state","mainItems","main","dispatch","bunIsEmpty","length","isLogin","navigate","id","ingredient","filter","i","indexOf","atIdex","newCartItems","slice","splice","canDrop","isOver","add","INGREDIENT","dropZoneClass","shell","_bunItems$","reduce","sum","handleSubmitOrder","constructorElement","constructorElementTop","map","_id","constructorElementBottom","_c7","$RefreshReg$"],"sources":["/Users/ois/Documents/oisCoder/ReactBurgerTs/src/components/BurgerConstructor/BurgerConstructor.tsx"],"sourcesContent":["import style from './BurgerConstructor.module.css'\nimport React, { ReactNode, ForwardRefRenderFunction, useEffect, useState, useCallback } from 'react';\nimport {BurgerIcon, ListIcon, ProfileIcon, CurrencyIcon, LockIcon, DragIcon, DeleteIcon, ConstructorElement, Button} from '@ya.praktikum/react-developer-burger-ui-components'\nimport {useDrop } from 'react-dnd/dist/hooks/useDrop';\nimport { useDrag } from 'react-dnd/dist/hooks/useDrag';\nimport { itemTypes } from '../../utility/constants';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { moveItem, addItem, submitOrder, emptyCart, removeItem } from '../../services/burgerCart-slice';\nimport { IngredientGlobalType, ChildrenType } from '../../utility/types';\nimport { AppDispatch } from '../../index';\nimport Modal from '../Modal/Modal';\nimport OrderDetails from '../OrderDetails/OrderDetail';\nimport { TotalProps, ProductProps, ConstructorTemplateProps, StateIngredient, Login, IDraggedItem } from './BurgerConstructorTypes';\n\n\n\n\n\n\nfunction Cart(props: ChildrenType){\n    return(\n        <ol className={style.cart}>\n            {props.children}\n        </ol>\n    )\n}\n\nconst Ingredients = React.forwardRef<HTMLOListElement, ChildrenType>((props, ref) => { \n    return( \n        <ol className={style.ingredients} ref={ref}>\n            {props.children}\n        </ol>\n    )\n})\n\nfunction Total(props: TotalProps) {\n    return (\n        <div className={style.total}>\n            <div className={`${style.totalPrice} mr-10`}>\n                <p className='text text_type_digits-medium'>{props.price}</p>\n                <CurrencyIcon type='primary'/>\n            </div>\n            <Button htmlType=\"button\" type=\"primary\" size=\"medium\" onClick={props.onClick} disabled={props.disabled}>\n                {props.children}\n            </Button>\n        </div>\n    )\n}\n\nfunction Product(props: ProductProps) {\n    const originalId = props.findIndex;\n    const newId = props.newId;\n    const [{ isDragging }, drag] = useDrag(() => ({\n      type: itemTypes.MAIN,\n      item: { newId, originalId },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n      end: (item, monitor) => {\n        const { newId: droppedId, originalId } = item;\n        const didDrop = monitor.didDrop();\n        if (!didDrop) {\n          props.moveIngredient(droppedId!, originalId);\n        }\n      },\n    }), [newId, originalId, props.moveIngredient]);\n  \n    const [, drop] = useDrop({\n      accept: itemTypes.MAIN,\n      hover: (item: IDraggedItem) => {\n        const draggetId = item.newId;\n        if (draggetId !== newId) {\n          const { index: overIndex } = props.findId(newId!);\n          props.moveIngredient(draggetId, overIndex);\n        }\n      },\n    }, [props.findId, props.moveIngredient])\n  \n    const opacity = isDragging ? 0 : 1;\n  \n    return (\n      <li className={props.style} ref={(node) => drag(drop(node))} style={{ opacity }}>\n        <DragIcon type='primary' />\n        <ConstructorElement\n          type={props.type}\n          isLocked={false}\n          text={props.name}\n          price={props.price}\n          thumbnail={props.image}\n          handleClose={props.remove} />\n      </li>\n    );\n  }\n\n  function ConstructorTemplate(props: ConstructorTemplateProps) {\n\n    return (\n        <div className={props.style}>\n            <p className={style.constructorElementText} >Выберите булочку</p>\n        </div>\n    )\n}\n\nfunction BurgerConstructor() {\n\n        \n    const [bun, setBun] = React.useState<IngredientGlobalType[]>([])\n    const [items, setItems] = React.useState<IngredientGlobalType[]>([])\n    const [totalPrice, setTotalPrice] = React.useState(0)\n    const [onOpen, setOnOpen] =React.useState(false)\n    const bunItems = useSelector((state: StateIngredient) => state.cart.cart.bun)\n    const mainItems = useSelector((state: StateIngredient) => state.cart.cart.main)\n    const dispatch = useDispatch<AppDispatch>();\n    const bunIsEmpty = bun.length === 0\n    const isLogin = useSelector((state: Login) => state.isLogin.isLogin)\n    const navigate = useNavigate()\n    // const serverError = useSelector((state) => state.isLogin.error)\n    \n\n    const findId = useCallback((id: string) => {\n        const ingredient = mainItems.filter((i) => `${i.newId}` === id)[0]\n        \n        return {\n            ingredient,\n            index: mainItems.indexOf(ingredient)\n        }\n    }, [mainItems])\n\n    \n\n    const moveIngredient = useCallback((id: string, atIdex: number) => {\n        const {ingredient, index} = findId(id)\n\n        const newCartItems = [\n            ...mainItems.slice(0, index),\n            ...mainItems.slice(index + 1)\n        ]\n\n        newCartItems.splice(atIdex, 0, ingredient)\n        \n\n        dispatch(moveItem(newCartItems))\n        \n\n    }, [findId, mainItems])\n\n    const [{ canDrop, isOver }, add] = useDrop(() => ({\n        accept: itemTypes.INGREDIENT,\n        drop: (item: IDraggedItem, monitor) => {\n            dispatch(addItem({...item.ingredient}));\n        },\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop(),\n        }),\n    }));\n\n    const dropZoneClass = canDrop ? `${style.shell} ${style.canDrop}` : style.shell;\n    \n    const [, drop] = useDrop(() => ({\n        accept: itemTypes.MAIN, \n\n    }))\n\n\n    useEffect(() => {\n        const totalPrice = \n            (bunItems[0]?.price * 2 || 0) + \n                mainItems.reduce((sum, item) => sum + item.price, 0)\n                setTotalPrice(totalPrice)\n        if (bunItems) {\n            const bun = bunItems.filter((item) => item.type === \"bun\").slice(0, 1);\n            setBun(bun);\n        }\n        if (mainItems) {\n            setItems(mainItems);\n        }\n    }, [bunItems, mainItems]);\n\n    const handleSubmitOrder = () => {\n        dispatch(submitOrder())\n        setOnOpen(true)\n        dispatch(emptyCart())\n    }\n\n    // const handleSubmitOrder = async() => {\n    //     try {\n    //         dispatch(submitOrder())\n    //         console.log(serverError)\n    //         setOnOpen(true)\n    //         dispatch(emptyCart())\n    //     } catch (error) {\n    //         console.error(\"Error:\", error)\n    //     }\n    // }\n\n        return (\n            <div className={dropZoneClass} ref={add}>\n                <Cart>\n                {bun.length === 0 ? (\n            <li className={style.bun} >\n                <ConstructorTemplate style={`${style.constructorElement} ${style.constructorElementTop}`}\n                text = 'Выберете булку'/>\n            </li>\n            ) : bun.map(item => (\n                <li className={style.bun} key={item._id}> \n                <ConstructorElement\n                key={item.newId}\n                type=\"top\"\n                isLocked={true}\n                text={item.name + '(верх)'}\n                price={item.price}\n                thumbnail={item.image}/>\n                </li>\n                ))}\n                <Ingredients ref={drop}>\n                    {items && items.map(item =>(\n                        <Product\n                        style={style.main} \n                        key={item.newId}\n                        price={item.price}\n                        name={item.name}\n                        image={item.image}\n                        findIndex={findId(item.newId!).index}\n                        moveIngredient={moveIngredient}\n                        findId={findId}\n                        newId={item.newId!}\n                        remove={()=>dispatch(removeItem(item.newId))}/>\n                    ))}\n                </Ingredients>\n                {bun.length === 0 ? (\n                <li className={style.bun} >\n                    <ConstructorTemplate style={`${style.constructorElement} ${style.constructorElementBottom}`}\n                        text = 'Выберете булку'/>\n                </li> ) : bun.map(item => (\n                <li className={style.bun} key={item._id}> \n                    <ConstructorElement\n                        key={item.newId}\n                        type=\"bottom\"\n                        isLocked={true}\n                        text={item.name + '(низ)'}\n                        price={item.price}\n                        thumbnail={item.image}/>\n                </li>\n                ))}\n            </Cart>\n            {isLogin ?<Total price={totalPrice} onClick={handleSubmitOrder} disabled={bunIsEmpty} children={'Оформить заказ'}/>  : \n            <Total price={totalPrice} onClick={() => navigate('/login')}  children={'Войти'}/> }\n            {onOpen && <Modal  handleClose={()=>setOnOpen(false)}>\n                <OrderDetails/>\n            </Modal>}\n            </div>\n        )\n    }\n\n    \n\nexport default BurgerConstructor"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}