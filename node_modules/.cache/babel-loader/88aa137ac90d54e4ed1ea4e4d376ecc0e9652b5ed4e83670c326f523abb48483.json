{"ast":null,"code":"var _jsxFileName = \"/Users/ois/Documents/oisCoder/ReactBurgerTs/src/pages/OrderDetailPage/OrderDetailPage.tsx\",\n  _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport style from './OrderDetailPage.module.css';\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport loader from '../../images/loader.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ScrollBarBlock(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.scrollBar} mb-10`,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_c = ScrollBarBlock;\nfunction Ingredient(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.ingredient,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.ingredientInfo,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: style.img,\n        src: props.img,\n        alt: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: ` ${style.ingredientName} text text_type_main-default`,\n        children: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.price,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text text_type_digits-default\",\n        children: props.count + ' x ' + props.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n        type: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Ingredient;\nfunction Loader() {\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: loader,\n    className: style.loader\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n_c3 = Loader;\nfunction OrderDetailsPage() {\n  _s();\n  var _order$number, _order$name;\n  const connected = useSelector(state => state.webSocket.connected);\n  const idModal = useSelector(state => state.orderDetails.id);\n  const {\n    id\n  } = useParams();\n  console.log(id);\n  const [data, setData] = useState([]);\n  const orders = useSelector(state => state.webSocket.orders.orders) || [];\n  // const order: OrderType | null = orders?.find(order => order._id === idModal || id) || null;\n  //  const order: OrderType | {} = orders?.find(order => order._id === idModal || id) || {};\n  // const ingredients = (order as OrderType).ingredients || null\n  const [order, setOrder] = useState(null);\n  const [ingredients, setIngredients] = useState([]);\n  const mainData = useSelector(state => state.app.data.data);\n  console.log(order);\n  useEffect(() => {\n    if (connected) {\n      const order = (orders === null || orders === void 0 ? void 0 : orders.find(order => order._id === idModal || id)) || null;\n      setOrder(order);\n      const ingredients = order.ingredients || null;\n      setIngredients(ingredients);\n      const newData = ingredients.flatMap(ingredient => mainData.filter(item => item._id === ingredient));\n      setData(newData);\n    }\n  }, [ingredients]);\n  let statusText = '';\n  if (order !== null) {\n    if ('status' in order) {\n      if (order.status === 'done') {\n        statusText = 'Выполнен';\n      } else if (order.status === 'pending') {\n        statusText = 'Готовится';\n      } else if (order.status === 'created') {\n        statusText = 'Создан';\n      }\n    } else {\n      statusText = '';\n    }\n  }\n\n  // let number: number | string = '';\n  // let name: string = '';\n\n  // if ('number' in order && 'name' in order) {\n  //     ({ number, name } = order);\n  //   }\n\n  let number = (_order$number = order === null || order === void 0 ? void 0 : order.number) !== null && _order$number !== void 0 ? _order$number : '';\n  let name = (_order$name = order === null || order === void 0 ? void 0 : order.name) !== null && _order$name !== void 0 ? _order$name : '';\n  if (order !== null) {\n    ({\n      number,\n      name\n    } = order);\n  }\n\n  // let number : any = ''\n  // let name : any = ''\n\n  // if (order !== null ) {\n  //   ({ number, name } = order);\n  // }\n\n  // const {number, name } = order || {number: '', name: ''};\n  const repeatedIngredients = [];\n  const singleIngredients = [];\n  const orderPrice = data.reduce((sum, item) => sum + item.price, 0);\n  const date = order ? new Date(order.createdAt).toLocaleString() : null;\n  // const date = order?.createdAt && new Date(order.createdAt).toLocaleString();\n\n  if (order) {\n    const uniquIngredients = Array.from(new Set(data));\n    uniquIngredients.forEach(ing => {\n      const count = ingredients.filter(item => item === ing._id).length;\n      if (count > 1) {\n        repeatedIngredients.push( /*#__PURE__*/_jsxDEV(Ingredient, {\n          img: ing.image,\n          name: ing.name,\n          count: count,\n          price: ing.price\n        }, ing._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 33\n        }, this));\n      } else {\n        singleIngredients.push( /*#__PURE__*/_jsxDEV(Ingredient, {\n          img: ing.image,\n          name: ing.name,\n          count: 1,\n          price: ing.price\n        }, ing._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }, this));\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.shell,\n    children: !connected ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.shell,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `${style.number} text text_type_digits-default`,\n        children: `#${number}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text text_type_main-medium mb-3\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text text_type_main-small mb-15\",\n        style: {\n          color: statusText === 'Выполнен' ? 'rgba(0, 204, 204, 1)' : 'white'\n        },\n        children: 'Выполнен'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text text_type_main-default\",\n        children: \"\\u0421\\u043E\\u0441\\u0442\\u0430\\u0432:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ScrollBarBlock, {\n        children: [repeatedIngredients && repeatedIngredients, singleIngredients && singleIngredients]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.info,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text text_type_main-default text_color_inactive\",\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.price,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text text_type_digits-default\",\n            children: orderPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n            type: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 9\n  }, this);\n}\n_s(OrderDetailsPage, \"TxOw676GtWB1EMjQFg4JR26QNbI=\", false, function () {\n  return [useSelector, useSelector, useParams, useSelector, useSelector];\n});\n_c4 = OrderDetailsPage;\nexport default OrderDetailsPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ScrollBarBlock\");\n$RefreshReg$(_c2, \"Ingredient\");\n$RefreshReg$(_c3, \"Loader\");\n$RefreshReg$(_c4, \"OrderDetailsPage\");","map":{"version":3,"names":["useSelector","style","CurrencyIcon","useParams","useEffect","useState","loader","jsxDEV","_jsxDEV","ScrollBarBlock","props","className","scrollBar","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Ingredient","ingredient","ingredientInfo","img","src","alt","name","ingredientName","price","count","type","_c2","Loader","_c3","OrderDetailsPage","_s","_order$number","_order$name","connected","state","webSocket","idModal","orderDetails","id","console","log","data","setData","orders","order","setOrder","ingredients","setIngredients","mainData","app","find","_id","newData","flatMap","filter","item","statusText","status","number","repeatedIngredients","singleIngredients","orderPrice","reduce","sum","date","Date","createdAt","toLocaleString","uniquIngredients","Array","from","Set","forEach","ing","length","push","image","shell","color","info","_c4","$RefreshReg$"],"sources":["/Users/ois/Documents/oisCoder/ReactBurgerTs/src/pages/OrderDetailPage/OrderDetailPage.tsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport style from './OrderDetailPage.module.css'\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState, ReactNode } from \"react\";\nimport loader from '../../images/loader.gif'\nimport { wsConnecting } from \"../../services/middlewareReducer\";\nimport { IngredientGlobalType } from \"../../utility/types\";\n\ntype ScrollBarBlockProps = {\n    children: ReactNode\n}\n\ntype IngredientProps = {\n    img: string;\n    name: string;\n    count: number;\n    price: number;\n}\n\ntype OrderType = {\n    _id: string;\n    ingredients: string[];\n    status: 'done' | 'pending' | 'created'; \n    name: string;\n    createdAt: string;\n    updatedAt: string;\n    number: number | string;\n  };\n\ntype WebSocketState = { \n    webSocket: {\n        orders: {\n            success: false,\n            orders: OrderType[],\n            total: 0,\n            totalToday: 0,\n        },\n        connected: false,\n    }\n}\n\ntype DetailsState = {\n    orderDetails: {\n        id: string | null\n    }\n}\n\ntype AppState = {\n    app: {\n        data : {\n            data: IngredientGlobalType[]\n    }\n        }\n        \n}\n\n\n\nfunction ScrollBarBlock(props: ScrollBarBlockProps) {\n    return (\n        <div className={`${style.scrollBar} mb-10`}>\n            {props.children}\n        </div>\n    )\n}\n\nfunction Ingredient(props:IngredientProps) { \n    return (\n        <div className={style.ingredient}>\n        <div className={style.ingredientInfo}>\n            <img className={style.img} src={props.img} alt={props.name}/>\n            <h2 className={` ${style.ingredientName} text text_type_main-default`}>{props.name}</h2>\n        </div>\n        <div className={style.price}>\n            <h2 className=\"text text_type_digits-default\">{props.count + ' x ' + props.price}</h2>\n            <CurrencyIcon type=\"primary\"/>\n        </div>\n    </div> \n    )\n}\n\nfunction Loader() {\n    return (\n        <img src={loader}  className={style.loader}/>\n    )\n}\n\nfunction OrderDetailsPage() {\n\n\n    const connected = useSelector((state: WebSocketState) => state.webSocket.connected) \n    \n    const idModal = useSelector((state: DetailsState) => state.orderDetails.id)\n    const {id} = useParams()\n    console.log(id)\n    const [data, setData] = useState<IngredientGlobalType[]>([])\n    const orders = useSelector((state: WebSocketState) => state.webSocket.orders.orders) || [];\n    // const order: OrderType | null = orders?.find(order => order._id === idModal || id) || null;\n    //  const order: OrderType | {} = orders?.find(order => order._id === idModal || id) || {};\n    // const ingredients = (order as OrderType).ingredients || null\n    const [order, setOrder] = useState<OrderType | null>(null)\n    const [ingredients, setIngredients] = useState<string[]>([])\n    const mainData = useSelector((state: AppState) => state.app.data.data)\n\n    console.log(order)\n\n    \n    useEffect(() => {\n        if (connected) {\n            const order: OrderType | null = orders?.find(order => order._id === idModal || id) || null;\n\n            setOrder(order!)\n\n            const ingredients = (order as OrderType).ingredients || null\n\n            setIngredients(ingredients)\n\n            const newData = ingredients.flatMap(ingredient => \n                mainData.filter(item => item._id === ingredient)\n            );\n            \n\n            setData(newData);\n                \n        }\n        },[ingredients])\n\n\n\n    \n\n        let statusText = '';\n\n        if (order !== null) {\n        if ('status' in order) {\n            if(order.status === 'done') {\n            statusText ='Выполнен';\n            } else if (order.status === 'pending') {\n            statusText = 'Готовится';\n            } else if (order.status === 'created') {\n            statusText = 'Создан';\n            }\n        } else {\n            statusText = '';\n        }\n        }\n\n        // let number: number | string = '';\n        // let name: string = '';\n      \n        // if ('number' in order && 'name' in order) {\n        //     ({ number, name } = order);\n        //   }\n\n        let number = order?.number ?? '';\n        let name = order?.name ?? '';\n\n        if (order !== null) {\n            ({ number, name } = order as OrderType);\n          }\n\n        // let number : any = ''\n        // let name : any = ''\n\n        // if (order !== null ) {\n        //   ({ number, name } = order);\n        // }\n      \n    // const {number, name } = order || {number: '', name: ''};\n    const repeatedIngredients: React.ReactNode[] = []\n    const singleIngredients: React.ReactNode[] = []\n    const orderPrice =  data.reduce((sum, item) => sum + item.price, 0)\n    const date = order ? new Date(order.createdAt).toLocaleString() : null;\n    // const date = order?.createdAt && new Date(order.createdAt).toLocaleString();\n\n    if(order) {\n        const uniquIngredients = Array.from(new Set(data))\n        \n\n                    uniquIngredients.forEach((ing) => {\n                        const count = ingredients.filter(item => item === ing._id).length\n\n                        if (count > 1) {\n                            repeatedIngredients.push(\n                                <Ingredient\n                                key={ing._id}\n                                img={ing.image}\n                                name={ing.name}\n                                count={count}\n                                price={ing.price}/>)\n                        } else {\n                            singleIngredients.push(\n                                <Ingredient\n                                key={ing._id}\n                                img={ing.image}\n                                name={ing.name}\n                                count={1}\n                                price={ing.price}/>)\n                        }\n                    })\n    }\n\n\n    return (\n        <div className={style.shell}>\n            {!connected ? <Loader/> :\n            <div className={style.shell}>\n            <h2 className={`${style.number} text text_type_digits-default`}>{`#${number}`}</h2>\n            <h1 className=\"text text_type_main-medium mb-3\">{name}</h1>\n            <span className=\"text text_type_main-small mb-15\" \n            style={{color: statusText === 'Выполнен' ? 'rgba(0, 204, 204, 1)' : 'white'}}>\n                {'Выполнен'}\n            </span>\n            <h2 className=\"text text_type_main-default\">Состав:</h2>\n            <ScrollBarBlock>\n            {repeatedIngredients && repeatedIngredients}\n            {singleIngredients && singleIngredients}\n            </ScrollBarBlock>\n            <div className={style.info}>\n                <p className=\"text text_type_main-default text_color_inactive\">{date}</p>\n                <div className={style.price}>\n                    <p className=\"text text_type_digits-default\">{orderPrice}</p>\n                    <CurrencyIcon type=\"primary\"/>\n                </div>\n            </div>\n            </div>}\n        </div>\n            \n        \n    )\n}\n\nexport default OrderDetailsPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}